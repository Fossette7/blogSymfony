{% extends 'base.html.twig' %}

{% block body %}

    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
            {# je crée ma zone de post#}
            <div class="post-preview">
                    <p hidden>je suis un numéro id:{{blog_post.id}} </p>
                        <h2 class="post-title">
                        {#je récupère le titre du post#}
                        {{ blogPost.title }}
                        </h2>
                    <p class="post-subtitle">
                        {{ blog_post.content }}
                    </p>
                {#j'ajoute la date de mise en ligne du post#}
                {#<p class="post-meta">Posté le {{ blog_post.date_creation | date('d/m/Y', 'Europe/Paris') }}</p>#}
            </div>

            {# je crée ma partie commentaire#}
                    <section id="commentaires">
                        <h3>Commentaires</h3>
                        <hr>
                        {% for blog_comment in blog_post.BlogComments %}
                            <div class="comment">
                             <div class="row">
                                    <div class="col-3">
                                    {{ blog_comment.author }} (<small>{{ blog_comment.createdAt|date('d-m-Y H:i') }}</small>)
                                    </div>
                                    <div class="col-9">
                                    {{ blog_comment.content | raw  }}
                                    </div>
                                </div>
                            </div>
                            <hr>
                        {% else %}
                            <p> Il n'y a aucun commentaire.</p>
                        {% endfor %}
                    </section>

                    <h4>Ajouter un commentaire</h4>
            {{ form(formComment) }}

            <div class="container"><a class="btn btn-primary float-right" href="{{path('blog_user_index')}}">Retour à l'accueil </a></div>
        </div>
    </div>

{% endblock %}
